/* ================================
   Global app styles — MD Digital Service + USWDS friendly
   ================================ */

/* Base typography and design tokens */
:root {
  font-size: 16px;
  line-height: var(--usa-line-height-body, 1.5);
  --mda-accent-color: var(--usa-color-accent-cool);
}

html, body, #root {
  height: 100%;
}

body {
  font-family: var(--usa-font-sans), system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  color: var(--usa-color-ink);
  background: var(--usa-color-base-lightest);
  margin: 0;
}

h1, h2, h3 {
  color: var(--mda-accent-color);
}

.app-container {
  display: flex;
  min-height: 100%;
  flex-direction: column;
}

.main-container { flex: 1 0 auto; }

.mda-container {
  max-width: 72rem; /* ~1152px */
  margin-inline: auto;
  padding-inline: var(--usa-spacing-3);
}

a { text-underline-offset: 0.15em; }


/* Keep "(Required)" inline when used inside legends */
.usa-legend .hint-inline {
  display: inline;
  margin-left: 0.25rem;
  font-weight: normal;
  font-size: 0.95em;
  color: var(--usa-color-gray-60);
}

/* Fallback focus ring for interactive controls (USWDS already handles most) */
:where(a, button, input, select, textarea, [role="button"]):focus-visible {
  outline: 3px solid var(--usa-color-focus);
  outline-offset: 2px;
}

/* --- Accessibility/contrast tweaks --- */

/* Links: higher-contrast USWDS blues for AAA on white */
.measure-6 a,
.usa-card__body a,
.usa-footer__secondary-section a {
  color: var(--usa-color-blue-70v);           /* AAA */
}
.measure-6 a:visited,
.usa-card__body a:visited,
.usa-footer__secondary-section a:visited {
  color: var(--usa-color-blue-80v);           /* AAA */
}
.measure-6 a:hover,
.usa-card__body a:hover { text-decoration: underline; }

/* Hint/help text a bit darker for AA/AAA */
.usa-hint { color: var(--usa-color-gray-50); }

/* Step indicator labels: ensure strong contrast */
.usa-step-indicator__segment-label { color: var(--usa-color-ink); }

/* Footer small text: ensure strong contrast */
.font-sans-2xs { color: var(--usa-color-ink); }

/* ================================
   Print utilities
   ================================ */

/* Hidden on screen, visible in print */
.only-print { display: none; }

/* Hidden in print */
.no-print {}

/* ================================
   Print styles — match on-screen feel
   ================================ */
@media print {
  /* Page + base typography */
  @page { margin: 0.75in; }                  /* comfortable margins */
  html, body {
    font-family: var(--usa-font-sans), system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif !important;
    font-size: 16px !important;              /* keep on-screen size */
    color: var(--usa-color-ink) !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Layout: keep main content centered and readable */
  .measure-6 { max-width: 7.5in; margin: 0 auto; }

  /* Header/nav/action rows don’t print */
  header, nav, .no-print { display: none !important; }

  /* “Printed on …” and other print-only hints */
  .only-print {
    display: block !important;
    margin-top: var(--usa-spacing-2);
    color: var(--usa-color-gray-60);
    font-size: 0.95rem;
  }

  /* Headings (closer to on-screen sizes) */
  h1 { font-size: 2rem !important; margin: 0 0 .75rem 0 !important; }
  h2 { font-size: 1.5rem !important; margin: 1rem 0 .5rem 0 !important; }
  h3 { font-size: 1.375rem !important; margin: .75rem 0 .375rem 0 !important; }

  /* Cards: consistent look & spacing */
  .usa-card {
    border: 1px solid var(--usa-color-gray-20) !important;
    border-radius: .5rem !important;         /* match the rounded look */
    box-shadow: none !important;
    page-break-inside: avoid; break-inside: avoid;
    margin: var(--usa-spacing-4) 0 !important;            /* space between cards */
  }
  .usa-card__container { border: 0 !important; }
  .usa-card__header { display: none !important; } /* hide native header in print */

  /* Inject a uniform card heading from data-title so all cards match */
  .usa-card .usa-card__body::before {
    content: attr(data-title);
    display: block !important;
    color: var(--usa-color-ink) !important;
    font-weight: 800 !important;
    font-size: 1.375rem !important;          /* larger, like on-screen */
    line-height: 1.25 !important;
    margin: 0 0 .4rem 0 !important;
    border-bottom: 1px solid var(--usa-color-gray-10) !important;
    padding-bottom: .25rem !important;
  }

  /* Comfortable body padding inside cards */
  .usa-card__body { padding: var(--usa-spacing-3) var(--usa-spacing-4) !important; }

  /* Lists & paragraphs spacing (closer to screen) */
  .usa-card__body p { margin: 0.5rem 0 0 0 !important; }
  .usa-card__body ul { margin: 0.25rem 0 0 1.1rem !important; }
  .usa-card__body li + li { margin-top: .35rem !important; }

  /* Align bulleted text with card headings (print only) */
  /* Remove the browser’s default list indent */
  .usa-card__body ul {
    margin: 0 !important;
    padding: 0 !important;
    list-style: none !important;   /* we’ll draw our own bullets */
  }

  /* Hanging bullets: bullet sits in a small gutter, text lines up with header */
  .usa-card__body li {
    margin: 0 0 .35rem 0 !important;
    padding-left: 1.05rem !important;   /* gutter width */
    text-indent: -1.05rem !important;   /* pull first line back to align with header */
  }

  .usa-card__body li::before {
    content: "•";
    font-weight: 700;                   /* bold bullet, like screen */
    font-size: 1.05rem;                 /* tweak to taste */
    margin-right: var(--usa-spacing-1);
  }
  
  /* FAQ prints expanded and tidy */
  .usa-accordion__content { display: block !important; }
  .usa-accordion__button {
    display: block !important;
    background: none !important;
    border: 0 !important;
    box-shadow: none !important;
    padding: 0 !important;
    text-align: left !important;
    color: var(--usa-color-ink) !important;
    font-weight: 800 !important;
    font-size: 1.375rem !important;
    line-height: 1.25 !important;
    margin: 0.75rem 0 0.25rem !important;
  }
  .usa-accordion__button::after { content: none !important; }
}
